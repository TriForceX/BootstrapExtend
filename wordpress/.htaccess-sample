# BEGIN WordPress

<IfModule mod_rewrite.c>

# ---------------------------------------------------------------------------
# Enable mod rewrite engine
# ---------------------------------------------------------------------------

RewriteEngine On

# ---------------------------------------------------------------------------
# Allow any files or directories that exist to be displayed directly
# ---------------------------------------------------------------------------

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# ---------------------------------------------------------------------------
# Set base and prevents requests from being rewritten
# ---------------------------------------------------------------------------

RewriteBase /
RewriteRule ^index\.php$ - [L]

# ---------------------------------------------------------------------------
# Rewrite for localhost and production enviroments
# ---------------------------------------------------------------------------

# [Localhost]
RewriteCond %{HTTP_HOST} ^(1::|127\.0\.0\..*|192\.168\..*|localhost)$ [NC]
RewriteRule . /wordpress_local/index.php [L]

# [Production]
RewriteCond %{HTTP_HOST} !^(1::|127\.0\.0\..*|192\.168\..*|localhost)$ [NC]
RewriteRule . /wordpress_prod/index.php [L]

</IfModule>

# END WordPress

# CUSTOM Settings

<IfModule mod_rewrite.c>

# ---------------------------------------------------------------------------
# Remove/Force HTTPS
# ---------------------------------------------------------------------------

# [Remove HTTPS]
# [Remove HTTPS] RewriteCond %{HTTP_HOST} !^(1::|127\.0\.0\..*|192\.168\..*|localhost)$ [NC]
# [Remove HTTPS] RewriteCond %{HTTPS} !=off
# [Remove HTTPS] RewriteRule ^(.*)$ http://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# [Force HTTPS]
# [Force HTTPS] RewriteCond %{HTTP_HOST} !^(1::|127\.0\.0\..*|192\.168\..*|localhost)$ [NC]
# [Force HTTPS] RewriteCond %{HTTPS} !=on
# [Force HTTPS] RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# ---------------------------------------------------------------------------
# Remove/Force WWW with HTTPS support
# ---------------------------------------------------------------------------

# [Remove WWW]
# [Remove WWW] RewriteCond %{HTTP_HOST} !^(1::|127\.0\.0\..*|192\.168\..*|localhost)$ [NC]
# [Remove WWW] RewriteCond %{HTTP_HOST} ^www\.
# [Remove WWW] RewriteCond %{HTTPS}s ^on(s)|off
# [Remove WWW] RewriteCond http%1://%{HTTP_HOST} ^(https?://)(www\.)?(.+)$
# [Remove WWW] RewriteRule ^ %1%3%{REQUEST_URI} [R=301,L]

# [Force WWW]
# [Force WWW] RewriteCond %{HTTP_HOST} !^(1::|127\.0\.0\..*|192\.168\..*|localhost)$ [NC]
# [Force WWW] RewriteCond %{HTTP_HOST} !=""
# [Force WWW] RewriteCond %{HTTP_HOST} !^www\. [NC]
# [Force WWW] RewriteCond %{HTTPS}s ^on(s)|off
# [Force WWW] RewriteRule ^ http%1://www.%{HTTP_HOST}%{REQUEST_URI} [R=301,L]

# ---------------------------------------------------------------------------
# Dont allow directory listing
# ---------------------------------------------------------------------------

Options -Indexes

</IfModule>

# CUSTOM Settings